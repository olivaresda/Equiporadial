<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equipo Radial - El Sonido Inteligente</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Font: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    
    <!-- 
    ========================================================================
    REQUISITOS PWA (Para añadir el icono al teléfono)
    ========================================================================
    -->
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="E. Radial">
    
    <!-- 
    AQUÍ VA TU CÓDIGO DE GOOGLE ANALYTICS
    -->
    <!-- Google tag (gtag.js) - INICIO (Reemplaza G-TU_ID_DE_MEDICION con tu ID real) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TU_ID_DE_MEDICION"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-TU_ID_DE_MEDICION');
    </script>
    <!-- Google tag (gtag.js) - FIN -->
    
    <!-- Custom Styles & Tailwind Config -->
    <style>
        /* Aplicar la fuente Inter por defecto */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0A0A0A; /* Fondo base negro profundo */
            color: #FFFFFF;
            padding-top: 0;
        }

        /* Estilos de la barra de instalación en móvil */
        @media (min-width: 640px) {
             #install-bar { display: none; }
        }
        @media (max-width: 639px) {
            body { padding-top: 52px; }
            #install-bar { display: flex; }
        }
        
        /* --- FONDO ANIMADO --- */
        .animated-gradient-bg {
            width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 0;
            background-color: #0A0A0A;
            background-image: 
                radial-gradient(at 20% 80%, hsla(195, 100%, 50%, 0.15) 0px, transparent 50%),
                radial-gradient(at 80% 20%, hsla(300, 100%, 50%, 0.15) 0px, transparent 50%),
                radial-gradient(at 50% 50%, hsla(210, 100%, 70%, 0.1) 0px, transparent 50%);
            background-size: 200% 200%;
            animation: animatedGradient 20s ease-in-out infinite alternate;
        }

        @keyframes animatedGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- ESTILO DE TEXTO GRADIENTE (LOGO) --- */
        .text-gradient-logo {
            background: linear-gradient(to right, #00BFFF, #FF00FF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        /* Clases de utilidad y animaciones */
        .accent-electric-blue { accent-color: #00BFFF; }
        .ring-magenta-focus:focus {
            ring-color: #FF00FF;
            --tw-ring-offset-shadow: 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color), var(--tw-ring-shadow);
            box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow, 0 0 #0000);
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-down { animation: fadeInDown 1.2s ease-out forwards; }

        /* --- Estilos de las Ondas (Ecualizador) --- */
        .wave-bar-container {
            display: flex; justify-content: center; align-items: flex-end; height: 80px; gap: 6px;
        }
        .wave-bar {
            width: 8px; background-color: #00BFFF; border-radius: 4px;
            box-shadow: 0 0 8px #00BFFF, 0 0 12px #00BFFF;
            animation: pulseWave 1.3s infinite ease-in-out alternate;
        }
        .wave-bar.magenta {
            background-color: #FF00FF; box-shadow: 0 0 8px #FF00FF, 0 0 12px #FF00FF;
        }
        @keyframes pulseWave {
            0% { height: 10px; opacity: 0.7; }
            100% { height: 70px; opacity: 1; }
        }
    </style>
</head>
<body class="text-white">

    <!-- 
    ========================================================================
    BARRA DE NOTIFICACIÓN DE INSTALACIÓN (Solo en Móviles)
    ========================================================================
    -->
    <div id="install-bar" class="fixed top-0 left-0 w-full bg-[#1A1A1A] text-white p-3 z-[999] text-center shadow-lg hidden">
        <div class="w-full flex items-center justify-between">
            <span class="text-sm font-medium mr-2">✨ ¡Lleva la radio a tu inicio!</span>
            <div class="flex-shrink-0">
                <button id="install-button-ios" class="text-[#00BFFF] hover:text-white text-sm font-bold border border-[#00BFFF] rounded-full px-3 py-1 hidden">
                    Añadir
                </button>
                <button id="install-button-android" class="text-[#FF00FF] hover:text-white text-sm font-bold border border-[#FF00FF] rounded-full px-3 py-1 hidden">
                    Instalar
                </button>
            </div>
            <button id="close-install-bar" class="text-gray-500 hover:text-white ml-2 text-2xl font-bold">&times;</button>
        </div>
    </div>
    
    <!-- 
    ========================================================================
    SECCIÓN HERO (100vh)
    ========================================================================
    -->
    <main class="relative h-screen overflow-hidden">
        
        <!-- Fondo Animado -->
        <div class="animated-gradient-bg"></div>
        
        <!-- Enlaces a Reproductores Externos (Esquina Superior Derecha) -->
        <div class="absolute top-4 right-4 z-30">
            <div class="bg-black/50 backdrop-blur-sm rounded-xl p-3 text-center border border-gray-700/50">
                <p class="text-gray-400 text-xs sm:text-sm mb-2 whitespace-nowrap">Escucha con tu reproductor favorito</p>
                <div class="flex justify-center space-x-3">
                    <!-- VLC/M3U -->
                    <a href="https://stream.casthost.net/public/radio_ia_first/playlist.m3u" title="Descargar M3U para VLC, iTunes" class="text-[#FF7700] hover:text-white transition-colors">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5.4 12c.1.7.3 1.4.6 2 .4.8.9 1.5 1.6 2.1.8.8 1.8 1.3 2.9 1.6 1.1.2 2.2.2 3.3.1 1.2-.1 2.3-.5 3.4-1.1.5-.3.9-.6 1.4-1 .3-.3.6-.6.9-.9.4-.5.7-1.1 1-1.7.3-.6.5-1.3.6-2.1.1-.9.1-1.8 0-2.7-.1-.9-.3-1.8-.7-2.6-.4-.7-.9-1.3-1.5-1.9-.6-.5-1.4-.9-2.2-1.2-.8-.3-1.6-.4-2.4-.4-1.2 0-2.5.3-3.7.8-.5.2-1.1.5-1.6.8-.4.2-.8.5-1.2.8-.4.3-.8.6-1.1 1-.4.4-.7.8-1 1.3-.3.5-.5 1.1-.7 1.7-.2.6-.3 1.2-.3 1.8zM12 24c6.6 0 12-5.4 12-12S18.6 0 12 0 0 5.4 0 12s5.4 12 12 12zm0-22c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12 6.5 2 12 2zm-1 5.5l5 2.5-5 2.5V7.5z"/></svg>
                    </a>
                    <!-- Winamp/PLS -->
                    <a href="https://stream.casthost.net/public/radio_ia_first/playlist.pls" title="Descargar PLS para Winamp, Foobar" class="text-[#00BFFF] hover:text-white transition-colors">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM10.5 7.5L16 12l-5.5 4.5V7.5z"/></svg>
                    </a>
                    <!-- Placeholder de 3er Reproductor -->
                    <a href="https://stream.casthost.net/public/radio_ia_first/playlist.m3u" title="Descargar M3U" class="text-[#FF00FF] hover:text-white transition-colors">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l6 4.5-6 4.5z"/></svg>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Contenido Central -->
        <div class="relative z-10 flex flex-col items-center justify-center h-full text-center px-6">
            
            <!-- Logo de Texto con Gradiente -->
            <h2 class="text-6xl md:text-7xl font-extrabold mb-5 animate-fade-in-down text-gradient-logo" style="animation-delay: 0.2s;">
                Equipo Radial
            </h2>
            
            <!-- Título Principal -->
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-white leading-tight animate-fade-in-down" style="animation-delay: 0.4s;">
                El Sonido Inteligente para tu Vida y tu Negocio.
            </h1>
            
            <!-- Subtítulo -->
            <p class="text-lg md:text-xl text-gray-300 mt-4 max-w-2xl mx-auto animate-fade-in-down" style="animation-delay: 0.6s;">
                La primera radio IA de Quito. Música, tecnología y finanzas 24/7.
            </p>

            <!-- Ondas de Ecualizador -->
            <div class="wave-bar-container mt-10 animate-fade-in-down" style="animation-delay: 0.8s;">
                <div class="wave-bar" style="animation-delay: 0.1s;"></div>
                <div class="wave-bar" style="animation-delay: 0.3s;"></div>
                <div class="wave-bar magenta" style="animation-delay: 0.5s;"></div>
                <div class="wave-bar" style="animation-delay: 0.2s;"></div>
                <div class="wave-bar" style="animation-delay: 0.4s;"></div>
                <div class="wave-bar magenta" style="animation-delay: 0.1s;"></div>
                <div class="wave-bar" style="animation-delay: 0.3s;"></div>
                <div class="wave-bar" style="animation-delay: 0.5s;"></div>
            </div>
            
        </div>
        
    </main>

    <!-- 
    ========================================================================
    REPRODUCTOR DE AUDIO PERSISTENTE
    ========================================================================
    -->
    <footer class="fixed bottom-0 left-0 w-full h-20 md:h-16 bg-black/80 backdrop-blur-md z-50">
        <div class="h-full max-w-7xl mx-auto flex items-center justify-between px-4 sm:px-6 lg:px-8">
            
            <!-- Botón Play/Pause e Info "Al Aire" -->
            <div class="flex items-center space-x-3">
                <button 
                    id="playPauseBtn" 
                    onclick="togglePlay()" 
                    class="flex-shrink-0 text-[#00BFFF] hover:text-white transition-colors duration-200 rounded-full"
                    aria-label="Reproducir o pausar"
                >
                    <!-- Play SVG -->
                    <svg id="playIcon" class="w-10 h-10" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A.5.5 0 008 7.618v4.764a.5.5 0 00.555.45l3.67-2.382a.5.5 0 000-.9l-3.67-2.382z" clip-rule="evenodd"></path>
                    </svg>
                    <!-- Pause SVG -->
                    <svg id="pauseIcon" class="w-10 h-10 hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 6a1 1 0 00-1 1v6a1 1 0 102 0V7a1 1 0 00-1-1zm4 0a1 1 0 00-1 1v6a1 1 0 102 0V7a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                    </svg>
                </button>
                
                <div class="hidden sm:block">
                    <span class="text-white font-medium truncate">Al Aire:</span>
                    <span class="text-gray-300 ml-2 truncate">Despertar Inteligente (IA Mix)</span>
                </div>
            </div>
            
            <!-- Controles de Volumen -->
            <div class="flex items-center space-x-3 md:space-x-4">
                <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.43 8.35a1 1 0 00-1.06-.27l-2.02.68a1 1 0 00-.7.92v2.84a1 1 0 00.94 1l2.02-.68a1 1 0 00.82-1.89l-2.02.68a1 1 0 00-.7.92v.28l1.01-.34a1 1 0 00.82-1.89l-2.02.68a1 1 0 00-.7.92v.28l1.01-.34a1 1 0 00.82-1.89l-1.01.34a.17.17 0 01-.14.15v-.65a1 1 0 00-.7-.92l-2.02.68a1 1 0 00-.82 1.89l2.02-.68a1 1 0 00.7-.92v-2.84a1 1 0 00-.94-1l-2.02.68a1 1 0 00-.82 1.89l2.02-.68a1 1 0 00.7-.92v-2.84a1 1 0 00-1.5-.87l-3.35 2.23a1 1 0 00-.5.87v4.54a1 1 0 001.5.87l3.35-2.23a1 1 0 00.5-.87V8.92a1 1 0 00-.7-.92l-2.02.68a1 1 0 00-.82 1.89l2.02-.68a1 1 0 00.7-.92V6.03a1 1 0 00-1-1H7a1 1 0 00-1 1v.03a1 1 0 001 1h1a1 1 0 001-1V4a1 1 0 00-1-1H7z"></path>
                    <path d="M10 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1z"></path>
                </svg>
                <input 
                    type="range" 
                    min="0" 
                    max="100" 
                    value="70" 
                    class="w-20 md:w-24 h-2 bg-gray-600 rounded-full appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black ring-magenta-focus accent-electric-blue"
                    onchange="setVolume(event.target.value)"
                    aria-label="Control de volumen"
                >
            </div>
            
        </div>
    </footer>

    <!-- 
    ========================================================================
    ELEMENTO DE AUDIO (Stream Real)
    ========================================================================
    -->
    <audio id="radioStream" preload="none">
        <source src="https://stream.casthost.net/listen/radio_ia_first/RadioIAFirst" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>

    <!-- 
    ========================================================================
    CONTENEDOR PRINCIPAL DEL CONTENIDO
    ========================================================================
    -->
    <div class="bg-[#0A0A0A] p-10">
        <div class="max-w-4xl mx-auto space-y-20">

            <!-- 
            1. PESTAÑAS (Historial / Quiénes Somos)
            -->
            <section id="tabs-section">
                <div class="border-b border-gray-700 mb-6">
                    <nav class="-mb-px flex flex-wrap justify-center space-x-6 sm:space-x-8" aria-label="Tabs">
                        <button 
                            id="tab-btn-historial" 
                            onclick="openTab('historial')" 
                            class="tab-button border-[#00BFFF] text-[#00BFFF] whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg"
                        >
                            Historial
                        </button>
                        <button 
                            id="tab-btn-quienes-somos" 
                            onclick="openTab('quienes-somos')" 
                            class="tab-button border-transparent text-gray-500 hover:text-gray-300 hover:border-gray-500 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg"
                        >
                            Quiénes Somos
                        </button>
                    </nav>
                </div>

                <div>
                    <!-- Contenido Historial -->
                    <div id="tab-content-historial" class="tab-content">
                        <iframe src="https://stream.casthost.net/public/radio_ia_first/history" frameborder="0" allowtransparency="true" style="width: 100%; min-height: 300px; border: 0; border-radius: 8px;">Cargando ...</iframe>
                    </div>
                    
                    <!-- Contenido Quiénes Somos -->
                    <div id="tab-content-quienes-somos" class="tab-content hidden">
                        <div class="text-gray-300 text-lg leading-relaxed p-6 bg-gray-900/50 rounded-lg">
                            <p class="mb-4">
                                Descubre Equipo Radial, el futuro de la radio en Quito. Somos la primera estación impulsada por Inteligencia Artificial, diseñada para líderes, innovadores y mentes curiosas.
                            </p>
                            <p>
                                Nuestra programación 24/7 fusiona música de vanguardia generada por IA con insights esenciales sobre tecnología, finanzas y deportes, ofreciendo una experiencia auditiva premium tanto para tu vida personal como para impulsar tu negocio.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 
            2. APOYA NUESTRO PROYECTO (Donación)
            -->
            <section id="donacion-section">
                <div class="bg-gray-900/50 rounded-lg p-8 text-center">
                    <h2 class="text-3xl font-bold mb-4 text-gradient-logo">Apoya Nuestro Proyecto</h2>
                    <p class="text-gray-300 text-lg leading-relaxed mb-8">
                        Equipo Radial es un proyecto independiente. Tu apoyo directo es fundamental para mantener nuestra señal 24/7, libre de interrupciones y desarrollando nueva música IA. Cada donación nos ayuda a seguir innovando.
                    </p>
                    
                    <!-- Botones de Donación (Ko-fi + PayPal) -->
                    <div class="flex flex-col sm:flex-row justify-center gap-4 items-center">
                        
                        <!-- Botón Ko-fi (Azul Eléctrico) -->
                        <a 
                            href="https://ko-fi.com/equiporadial" 
                            target="_blank" 
                            rel="noopener noreferrer" 
                            class="border-2 border-[#00BFFF] text-[#00BFFF] py-2 px-6 rounded-lg font-medium text-base transition-colors duration-300 ease-in-out hover:bg-[#00BFFF] hover:text-[#0A0A0A] hover:shadow-[0_0_15px_#00BFFF] flex items-center justify-center w-full sm:w-auto"
                        >
                            <!-- Icono SVG Ko-fi -->
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M544 0H96C82.7 0 72 10.7 72 24v192c0 13.3 10.7 24 24 24h32v160c0 53 43 96 96 96h16c17.7 0 32-14.3 32-32s-14.3-32-32-32h-16c-17.7 0-32-14.3-32-32V240h160v160c0 17.7-14.3 32-32 32h-16c-17.7 0-32 14.3-32 32s14.3 32 32 32h16c53 0 96-43 96-96V240h32c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24zM40 464h496c13.3 0 24.1-10.8 24-24.1C559.4 425.8 548.2 416 535.9 416H40.1C27.8 416 16.6 425.8 16 439.9c-.1 13.3 10.7 24.1 24 24.1z"></path></svg>
                            <span class="ml-2">Donar con Ko-fi</span>
                        </a>

                        <!-- Botón PayPal (Magenta Neón) -->
                        <a 
                            href="https://www.paypal.com/donate/?business=MZDZC52WGLHPN&no_recurring=0&item_name=Miles+de+peque%C3%B1os+comercios+y+auditores+escuchan+la+primera+radio+streaming+operada+con+IA++https%3A%2F%2Fequiporadial.com%2F&currency_code=USD" 
                            target="_blank" 
                            rel="noopener noreferrer" 
                            class="border-2 border-[#FF00FF] text-[#FF00FF] py-2 px-6 rounded-lg font-medium text-base transition-colors duration-300 ease-in-out hover:bg-[#FF00FF] hover:text-[#0A0A0A] hover:shadow-[0_0_15px_#FF00FF] flex items-center justify-center w-full sm:w-auto"
                        >
                            <!-- Icono SVG PayPal -->
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M111.4 295.9c-3.5 19.2-17.4 108.7-21.5 134-.3 1.8-1 2.5-3 2.5H12.3c-7.6 0-13.1-6.6-12.1-13.9L58.8 46.6c1.5-9.6 10.1-16.9 20-16.9 152.3 0 165.1-3.7 204 11.4 60.1 23.3 65.6 79.5 44 140.3-21.5 62.6-72.5 89.5-140.1 90.3-43.4.7-69.5-7-75.3 24.2zM357.1 152c-1.8-1.3-2.5-1.8-3 1.3-2 11.4-5.1 22.5-8.8 33.6-39.9 113.8-150.5 103.9-204.5 103.9-6.1 0-10.1 3.3-10.9 9.4-22.6 140.4-27.1 169.7-27.1 169.7-1 7.1 3.5 12.9 10.6 12.9h63.5c6.6 0 11.7-4.5 13.2-11.4.2-.5.6-2.6 1.2-5.1 1-4 2.9-15.4 4.3-22.8 2.2-14.4 4-20.6 4-20.6 1.4-7.9 7.8-13.6 15.6-13.6 31.2 0 45.9 0 59.9-.3+140.6-1.8 184.3-61.5 201.9-134.5 17.1-68.8-9.2-115.2-70.4-122.5z"/></svg>
                            <span class="ml-2">Donar con PayPal</span>
                        </a>

                    </div>
                </div>
            </section>

            <!-- 
            3. ECUADOR MÚSICA B2B
            -->
            <section id="b2b-section">
                <h2 class="text-4xl font-bold mb-6 text-center text-gradient-logo">Ecuador Música B2B</h2>
                <p class="text-center text-gray-300 text-lg mb-10 max-w-2xl mx-auto">
                    Una solución inteligente y legal para el audio de tu negocio.
                </p>

                <div class="bg-gray-900/50 rounded-lg p-8">
                    <h3 class="text-2xl font-bold text-white mb-4">El Desafío: Música para Negocios en Ecuador</h3>
                    <p class="text-gray-300 text-lg leading-relaxed mb-4">
                        Si tienes un negocio en Ecuador (restaurante, cafetería, tienda u oficina), sabes que usar música comercial es complicado. Implica gestionar trámites con sociedades de gestión, enfrentar pagos de licencias costosas y la constante incertidumbre de no saber cuánto pagar.
                    </p>
                    <p class="text-gray-300 text-lg leading-relaxed mb-6">
                        El riesgo de multas por parte de un fiscalizador es real, y navegar el sistema es frustrante y costoso.
                    </p>

                    <h3 class="text-2xl font-bold text-white mb-4">La Solución: Equipo Radial B2B</h3>
                    <p class="text-gray-300 text-lg leading-relaxed mb-6">
                        Con Equipo Radial, te liberas de todo ese estrés. Tu negocio obtiene la tranquilidad que necesita:
                    </p>
                    
                    <ul class="list-disc list-inside text-gray-300 text-lg space-y-3 mb-8">
                        <li>Un <strong class="text-[#00BFFF]">Certificado de Licencia</strong> que acredita el uso de nuestra señal en formato 'free' y libre de pagos a sociedades de gestión.</li>
                        <li>Acceso a un <strong class="text-[#00BFFF]">número de teléfono de soporte</strong> para que nosotros le expliquemos directamente al fiscalizador que tu música está en regla.</li>
                        <li>Paz mental y el ahorro de cientos de dólares en licencias tradicionales.</li>
                    </ul>

                    <p class="text-white text-xl font-bold text-center mb-6">
                        Evita multas y complicaciones. Únete a la revolución del audio inteligente.
                    </p>
                </div>
            </section>

            <!-- 
            4. CONTACTO (Mantente Conectado)
            -->
            <section id="contacto-section">
                <div class="p-6 sm:p-8 bg-gray-900/50 rounded-lg">
                    <h3 class="text-xl font-bold text-center mb-4">Mantente Conectado</h3>
                    <p class="text-center text-gray-300 mb-6">Recibe novedades o contáctanos directamente por WhatsApp.</p>
                    <div class="flex flex-col md:flex-row gap-4">
                        
                        <!-- Formulario de Email -->
                        <form id="subscribe-form" class="flex-1 flex flex-col sm:flex-row gap-2">
                            <label for="email-input" class="sr-only">Tu email</label>
                            <input 
                                type="email" 
                                id="email-input"
                                placeholder="Ingresa tu email" 
                                required
                                class="flex-grow bg-gray-800 text-white px-4 py-3 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-[#00BFFF] w-full"
                            >
                            <button 
                                type="submit" 
                                id="subscribe-button"
                                class="bg-[#00BFFF] text-black font-bold py-3 px-6 rounded-lg hover:bg-white transition-colors duration-300"
                            >
                                Suscribir
                            </button>
                        </form>
                        
                        <!-- Botón de WhatsApp -->
                        <a 
                            href="https://wa.me/593962956502"
                            target="_blank" 
                            rel="noopener noreferrer"
                            class="bg-green-500 text-white font-bold py-3 px-6 rounded-lg flex items-center justify-center hover:bg-green-400 transition-colors duration-300"
                        >
                            <svg class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M.057 24L5.98 22.06c-1.743-2.01-2.79-4.52-2.79-7.16C3.19 7.02 8.43 2 15.03 2s11.84 5.02 11.84 12.9c0 7.88-5.24 12.9-11.84 12.9-2.52 0-4.93-.89-6.9-2.51L.057 24zM8.34 7.08c-.16-.38-.47-.5-.7-.5-.22 0-.44 0-.66.02-.27 0-.7.36-.96.69-.26.33-.87.85-.87 2.07 0 1.22.89 2.89 1.02 3.1.13.2.18.33.3.52.8 1.4 1.96 2.62 3.5 3.48.5.28.8.44.98.56.45.28.87.48 1.3.62.2.06.38.1.58.1.48 0 1.2-.18 1.63-.84.44-.66.8-1.32.96-2.02.16-.7-.06-1.08-.28-1.28-.22-.2-.44-.3-.66-.4-.22-.1-.36-.12-.53-.12-.22 0-.44 0-.6.02-.22.02-.5.12-.76.66-.26.54-.48 1.02-.69 1.28-.2.26-.42.33-.66.2-.24-.13-1.04-.4-1.98-1.22-.73-.64-1.22-1.42-1.35-1.68-.13-.26-.02-.4.1-.52.1-.1.22-.26.33-.38.13-.12.2-.2.3-.3.1-.1.18-.2.23-.33.05-.13.02-.26 0-.38-.02-.12-.5-1.2-.69-1.62z"/></svg>
                            Contactar por WhatsApp
                        </a>
                    </div>
                    <p id="subscribe-feedback" class="text-green-400 text-center mt-4 hidden"></p>
                </div>
            </section>

        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Player Logic
        const radioStream = document.getElementById('radioStream');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        
        function togglePlay() {
            if (radioStream.paused || radioStream.ended) {
                radioStream.play().then(() => {
                    playIcon.classList.add('hidden');
                    pauseIcon.classList.remove('hidden');
                }).catch(error => {
                    console.error('Error:', error);
                    playIcon.classList.remove('hidden');
                    pauseIcon.classList.add('hidden');
                });
            } else {
                radioStream.pause();
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        }

        function setVolume(value) { radioStream.volume = value / 100; }
        radioStream.onpause = () => { playIcon.classList.remove('hidden'); pauseIcon.classList.add('hidden'); };
        radioStream.onplay = () => { playIcon.classList.add('hidden'); pauseIcon.classList.remove('hidden'); };
        setVolume(70);

        // Tabs Logic
        const tabContents = {
            'historial': document.getElementById('tab-content-historial'),
            'quienes-somos': document.getElementById('tab-content-quienes-somos')
        };
        const tabButtons = {
            'historial': document.getElementById('tab-btn-historial'),
            'quienes-somos': document.getElementById('tab-btn-quienes-somos')
        };

        function openTab(tabId) {
            Object.values(tabContents).forEach(c => c.classList.add('hidden'));
            Object.values(tabButtons).forEach(b => {
                b.classList.remove('border-[#00BFFF]', 'text-[#00BFFF]');
                b.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-300', 'hover:border-gray-500');
            });
            if (tabContents[tabId]) tabContents[tabId].classList.remove('hidden');
            if (tabButtons[tabId]) {
                tabButtons[tabId].classList.add('border-[#00BFFF]', 'text-[#00BFFF]');
                tabButtons[tabId].classList.remove('border-transparent', 'text-gray-500', 'hover:text-gray-300', 'hover:border-gray-500');
            }
        }
        openTab('historial');

        // Google Sheets Logic
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzNTncO1OSocv9ybdlK409OAYAPwymsJonpuDSVj6-jdhDaK16OH4oNEqDGL5eGh9cd/exec';
        const subscribeForm = document.getElementById('subscribe-form');
        const subscribeButton = document.getElementById('subscribe-button');
        const emailInput = document.getElementById('email-input');
        const feedback = document.getElementById('subscribe-feedback');

        async function handleSubscribe(e) {
            e.preventDefault();
            const email = emailInput.value;
            feedback.classList.add('hidden');
            feedback.classList.remove('text-red-400');
            feedback.classList.add('text-green-400');
            subscribeButton.disabled = true;
            subscribeButton.textContent = 'Enviando...';

            try {
                await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors', 
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email: email })
                });
                
                emailInput.value = '';
                subscribeButton.textContent = '¡Suscrito!';
                feedback.textContent = '¡Gracias por suscribirte!';
                feedback.classList.remove('hidden');
                setTimeout(() => {
                    feedback.classList.add('hidden');
                    subscribeButton.disabled = false;
                    subscribeButton.textContent = 'Suscribir';
                }, 3000);
            } catch (error) {
                subscribeButton.disabled = false;
                subscribeButton.textContent = 'Suscribir';
                feedback.textContent = 'Error al enviar. Intenta de nuevo.';
                feedback.classList.remove('hidden', 'text-green-400');
                feedback.classList.add('text-red-400');
            }
        }
        subscribeForm.addEventListener('submit', handleSubscribe);


        // ====================================================================
        // PWA INSTALLATION LOGIC (Añadir a la Pantalla de Inicio)
        // ====================================================================

        let deferredPrompt;
        const installBar = document.getElementById('install-bar');
        const installButtonAndroid = document.getElementById('install-button-android');
        const installButtonIos = document.getElementById('install-button-ios');
        const closeInstallBar = document.getElementById('close-install-bar');

        // 1. Mostrar la barra al usuario
        window.addEventListener('load', () => {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                installBar.classList.remove('hidden');
                installBar.classList.add('flex');

                const isiOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

                if (isiOS) {
                    installButtonIos.classList.remove('hidden');
                    installBar.querySelector('span').textContent = 'Instala con Compartir ↗️';
                } else {
                    installButtonAndroid.classList.remove('hidden');
                }
            }
        });

        // 2. Evento para Android/Chrome (guarda el evento de instalación)
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installButtonAndroid.style.display = 'block';
        });

        // 3. Manejar el clic en el botón de Android
        installButtonAndroid.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                deferredPrompt = null;
                installBar.classList.add('hidden'); 
            }
        });

        // 4. Manejar el clic en el botón de iOS (solo instrucciones)
        installButtonIos.addEventListener('click', () => {
             alert('Para instalar: pulsa el ícono de Compartir (↗️) en tu navegador y selecciona "Añadir a pantalla de inicio".');
             installBar.classList.add('hidden'); 
        });

        // 5. Ocultar la barra si el usuario la cierra manualmente
        closeInstallBar.addEventListener('click', () => {
            installBar.classList.add('hidden');
        });

        // Ocultar si ya está instalada
        window.addEventListener('appinstalled', () => {
            installBar.classList.add('hidden');
        });

    </script>
</body>
</html>
